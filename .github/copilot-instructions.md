# Copilot Instructions for Datarama
- **Core Stack** Next.js 15 App Router + TypeScript + Tailwind CSS 4 (inline theme tokens in `app/globals.css`) with shadcn-style UI exported from `components/ui/**`.
- **Entry Points** Real UX lives under `app/dashboard`; `app/page.tsx` is a placeholder. New pages go in `app/dashboard/<feature>/page.tsx` so the dashboard layout wraps them automatically.
- **Dashboard Layout** `app/dashboard/layout.tsx` wires `SidebarProvider → AppSidebar → SiteHeader`. Update nav labels/links in `components/app-sidebar.tsx` (quickLinks/navClouds) when adding routes.
- **Sidebar System** The reusable sidebar primitives live in `components/ui/sidebar.tsx`; they expect the provider context, handle Ctrl/Cmd+B toggles, manage cookies, and expose slots like `SidebarMenu`, `SidebarTrigger`, `SidebarInset`.
- **Overview Screen** `app/dashboard/page.tsx` composes `SectionCards` (metric cards), `ChartAreaInteractive`, and `DataTable`. Prefer reusing those components so typography, spacing, and gradients stay consistent.
- **Tabular Data Contract** `DataPreview` + `EditableDataGrid` accept `{ columns: string[]; rows: Record<string,string>[] }`. Stick to that shape so CSV/JSON/SQL export tabs keep working and edits sync back through `onDatasetChange`.
- **Data Table Implementation** `components/data-table.tsx` (TanStack Table + dnd-kit) reads `app/dashboard/data.json` and the local `schema`. Keep `id` numeric + unique for drag handles and ensure columns align with `schema` when seeding new data.
- **Ask Bridgit AI Flow** `app/dashboard/ask-bridgit-ai/page.tsx` uses the `Ai02` composer (see `components/ai-02.tsx` for prompt and creativity props) and then pipes results into `DataPreview`. Replace the TODO in `handleSubmit` with real generation logic but continue populating `setDataset`.
- **Headers / Matrix / URL Tools** (`app/dashboard/headers|matrix|url`) all collect form input, call an async generator, and finish by pushing datasets into `DataPreview`. Mirror those patterns when adding new AI utilities.
- **Server Actions & Crawling** `app/actions/scrape.ts` is the planned Tavily integration (requires `process.env.TAVILY_API_KEY`, returns `{success,data,error}`); wire client pages to call `scrapeUrl(url, depth)` instead of duplicating fetch logic.
- **Charts** `ChartAreaInteractive` demonstrates how to filter date windows and feed `components/ui/chart` helpers (`ChartContainer`, `ChartTooltipContent`). Always fill out `chartConfig` so CSS variables (`--color-*`) exist for gradients and tooltips.
- **Hooks** Centralized hooks live in `hooks/**`; `useIsMobile` drives responsive toggles (and the sidebar), `useDebounceValue/useLocalStorage` are exported via `hooks/index.ts`. Prefer these before adding new third-party hooks.
- **Mode & Theme** Root `app/layout.tsx` applies `ThemeProvider` from `next-themes`; `ModeToggle` already flips between light/dark/system, so any theme-specific component should rely on CSS variables instead of custom context.
- **Utilities** Use `cn` from `lib/utils.ts` for class merging, and the helper `on/off/noop` when binding DOM events (e.g., in `hooks/limeplay/use-player`).
- **Media / Limeplay Stack** Components under `components/limeplay/**` rely on a Zustand store created by `lib/create-media-store.ts`; wrap any media player UI with `<MediaProvider>` and interact via `useMediaStore`/`usePlayer`.
- **3rd-party UI Kits** `components/kokonutui/**`, `limeplay/**`, and `mui-treasury/**` are vendor blocks registered via `components.json`. Import them directly instead of copying styles—they already follow the house theme tokens.
- **Styling Conventions** Most components add `data-slot` attributes consumed by scoped selectors (see `components/ui/card.tsx`, `globals.css`). Respect those slots when composing new layouts so the gradient/background utilities keep working.
- **Routing & Links** Use Next.js `Link` plus `usePathname` as done in `components/nav-main.tsx` for active state. Sidebar buttons expect `SidebarMenuButton asChild` to inherit semantics.
- **Paths & Imports** TypeScript `paths` map `@/*` to repo root. Prefer absolute imports (`@/components/...`) so files stay relocatable.
- **Build & Dev Commands** `npm install`, `npm run dev`, `npm run build`, `npm start`, `npm run lint` (Flat ESLint config in `eslint.config.mjs`). Node 20+/npm 10+ per `README`.
- **Testing/Linting Expectations** No formal tests yet; rely on `npm run lint` plus Storybook-like visual checks. When touching interactive components, keep `use client` directives and avoid SSR-only APIs.
- **Data Persistence** Forms intentionally keep everything client-side (no DB). Navigating away from dashboard tools should drop state, so avoid placing datasets in global stores unless that UX changes.
